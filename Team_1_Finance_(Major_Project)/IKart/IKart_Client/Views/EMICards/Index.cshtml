@model List<IKart_Shared.DTOs.EMI_Card.EmiCardDto>

@{
                Layout = "~/Views/Shared/_UserLayout.cshtml";

                var serverBase = "https://localhost:44365";

}

<div class="container-fluid mt-3">
    <h2 class="mb-4" style="color:#1e3a8a;">My EMI Cards</h2>

    @if (Model == null || !Model.Any())

    {
<p>No EMI cards found.</p>
                <a href="@Url.Action("AddCard", "EMICards")" class="btn btn-primary">Add New EMI Card</a>
                            }

                            else

                            {
                <div class="table-responsive">
                    <table class="table table-bordered table-hover align-middle">
                        <thead class="table-dark">
                            <tr>
                                <th>Card Image</th>
                                <th>Card Type</th>
                                <th>Card Number</th>
                                <th>Limit</th>
                                <th>Balance</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var card in Model)

                            {
            <tr>
                <td style="text-align:center;">

                    @if (!string.IsNullOrEmpty(card.CardImage))

                    {
<div style="display:flex; justify-content:center; align-items:center; height:120px; width:220px; margin:auto;">
    <img src="@($"{serverBase}/Content/EmiCardImages/{card.CardImage}")"
         alt="Card Image"
         style="max-width:100%; max-height:100%; object-fit:contain; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.2);" />
</div>
                    }

                    else

                    {
<span>No Image</span>
                    }
                </td>
                <td style="text-align:center; vertical-align:middle;">@card.CardType</td>
                <td style="text-align:center; vertical-align:middle;">@card.CardNumber</td>
                <td style="text-align:center; vertical-align:middle;">@card.TotalLimit</td>
                <td style="text-align:center; vertical-align:middle;">@card.Balance</td>
                <td style="text-align:center; vertical-align:middle;">@(card.IsActive ? "Active" : "Inactive")</td>
            </tr>
                            }
                        </tbody>
                    </table>
                </div>

                                <a href="@Url.Action("AddCard", "EMICards")" class="btn btn-primary mt-3">Add Another EMI Card</a>
                                            }
</div>

<style>

    /* Table styling */

    table th, table td {
        vertical-align: middle !important;
    }

    table th {
        text-align: center;
    }

    .btn-primary {
        background-color: #1e3a8a;
        border-color: #1e3a8a;
    }

        .btn-primary:hover {
            background-color: #16307c;
            border-color: #16307c;
        }

    .table-hover tbody tr:hover {
        background-color: #f5f5f5;
    }
</style>

